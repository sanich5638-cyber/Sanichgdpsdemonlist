<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanich GDPS Demon List</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <h1 class="main-title">Sanich GDPS Demon List</h1>
                <div class="stats">
                    <span class="demon-count">–í—Å–µ–≥–æ: {{ stats.total }}</span>
                    <span class="stat-verified">‚úì {{ stats.verified }}</span>
                    <span class="stat-pending">‚è≥ {{ stats.inVerification }}</span>
                    <span v-if="stats.platformers > 0" class="stat-platformers">üéÆ {{ stats.platformers }}</span>
                </div>
            </div>

            <!-- –ü–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
            <div class="controls">
                <input type="text" v-model="searchQuery" placeholder="–ü–æ–∏—Å–∫ –¥–µ–º–æ–Ω–æ–≤..." class="search-input">
                <select v-model="sortBy" class="sort-select">
                    <option value="position">–ü–æ –ø–æ–∑–∏—Ü–∏–∏</option>
                    <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                    <option value="difficulty">–ü–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</option>
                </select>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –¥–µ–º–æ–Ω–æ–≤ -->
            <div class="demon-list">
                <div class="demon-item" 
                     v-for="demon in processedDemons" 
                     :key="demon.id"
                     @click="selectDemon(demon)">
                    
                    <div class="demon-position">#{{ demon.position }}</div>
                    <div class="demon-name">{{ demon.name }}</div>
                    <div class="demon-author">published by {{ demon.author }}</div>
                    <div class="demon-progress">{{ getDemonProgress(demon) }}</div>
                    
                    <div :class="['status-badge', getStatusClass(demon)]">
                        {{ getStatusText(demon) }}
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏ -->
        <div class="modal-overlay" v-if="selectedDemon" @click="closeModal">
            <div class="modal-content" @click.stop>
                <div class="modal-header">
                    <h2 class="modal-title">{{ selectedDemon.name }}</h2>
                    <button class="close-btn" @click="closeModal">√ó</button>
                </div>

                <div class="demon-info">
                    <div class="info-row">
                        <span class="info-label">Position:</span>
                        <span class="info-value">#{{ selectedDemon.position }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Author:</span>
                        <span class="info-value">{{ selectedDemon.author }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Creators:</span>
                        <span class="info-value">{{ selectedDemon.creators.join(', ') }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Status:</span>
                        <span class="info-value">
                            <span :class="['status-badge', getStatusClass(selectedDemon)]">
                                {{ getStatusText(selectedDemon) }}
                            </span>
                        </span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Password:</span>
                        <span class="info-value">{{ selectedDemon.password }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Qualify %:</span>
                        <span class="info-value">{{ selectedDemon.percentToQualify }}%</span>
                    </div>
                    
                    <div v-if="hasVerification(selectedDemon)" class="info-row">
                        <span class="info-label">Verification:</span>
                        <span class="info-value">
                            <a :href="selectedDemon.verification" target="_blank" class="record-link">Watch</a>
                        </span>
                    </div>
                </div>

                <!-- –†–µ–∫–æ—Ä–¥—ã -->
                <div class="records-section" v-if="selectedDemon.records && selectedDemon.records.length > 0">
                    <h3 class="records-title">Records ({{ selectedDemon.records.length }})</h3>
                    <div class="record-item" v-for="(record, index) in selectedDemon.records" :key="index">
                        <div class="record-user">{{ record.user }}</div>
                        <div class="record-details">
                            {{ getRecordDisplay(record, selectedDemon.levelType) }}
                            <a v-if="record.link" :href="record.link" target="_blank" class="record-link">[Video]</a>
                            <span v-if="record.comment"> - {{ record.comment }}</span>
                        </div>
                    </div>
                </div>
                <div v-else class="records-section">
                    <p>No records yet</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
    </html>
